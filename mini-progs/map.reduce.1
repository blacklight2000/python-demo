1. get a string of text
2. strip the non-alphabetic characters from the original string
3. change every letter of the original string to lower case
4. split the string into a word list

5. create a set out of the wordlist
6. create a set of words to be excluded e.g/ "a", "an", "the", etc.
7. adjust the wordlist set by purging the words to be excluded from the wordlist set

8. map reduce phase 1: get an instance count for each word in the wordlist set
9. map reduce phase 2: create a dictionary listing words and their variants
10. map reduce phase 2: aggregate instance counts for all variants of each word


In [1]: str_original = "jUMPed. #JumPing; jump? )(jumping<> 'jumping` $%^SOLO JUmped+= and the it"

In [2]: str_lower_case = str_original.lower()

In [3]: str_lower_case
Out[3]: "jumped. #jumping; jump? )(jumping<> 'jumping` $%^solo jumped+= and the it"

In [4]: import re

In [5]: str_cleaned_up = re.sub('\W',' ',str_lower_case)

In [6]: str_cleaned_up
Out[6]: 'jumped   jumping  jump    jumping    jumping     solo jumped   and the it'

In [7]: str_word_list = str_cleaned_up.split()

In [8]: str_word_list
Out[8]: 
['jumped',
 'jumping',
 'jump',
 'jumping',
 'jumping',
 'solo',
 'jumped',
 'and',
 'the',
 'it']

In [9]: str_word_listOut.sort()  # sorting is required for exclusion step to be 100% successful

In [10]: str_word_listOut
Out[10]: 
['and',
 'it',
 'jump',
 'jumped',
 'jumped',
 'jumping',
 'jumping',
 'jumping',
 'solo',
 'the']

In [11]: str_exclude_list = ['and','it','the','they','we']  # already sorted

In [12]: str_exclude_list
Out[12]: ['and', 'it', 'the', 'they', 'we']

In [13]: for word in str_word_listOut:
   ....:     if word in str_exclude_list:
   ....:         str_word_listOut.remove(word)
   ....:         

In [14]: str_word_listOut
Out[14]: ['it', 'jump', 'jumped', 'jumped', 'jumping', 'jumping', 'jumping', 'solo']

In [15]: for word in str_word_listOut:
  .....:     cnt[word] += 1
  .....:     

In [16]: cnt
Out[16]: Counter({'jumping': 3, 'jumped': 2, 'jump': 1, 'it': 1, 'solo': 1})

In [17]: hash = { 'jump': ['jump','jumping','jumped'], 'solo':['solo'] }

In [18]: for h in hash:
   ....:         keyword_hash[h] = 0
   ....:         for e in hash[h]:
   ....:                 keyword_hash[h] += cnt[e]
   ....:         


In [19]: keyword_hash
Out[19]: {'jump': 6, 'solo': 1}

